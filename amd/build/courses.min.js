define(["require","jquery","theme_ufsm2/jquery.cookie"],function(a,b,c){return function(){var a=-1,c=-1,d=function(a){return parseFloat(a)||0},e=function(a){var c=1,e=b(a),f=null,g=[];return e.each(function(){var a=b(this),e=a.offset().top-d(a.css("margin-top")),h=g.length>0?g[g.length-1]:null;null===h?g.push(a):Math.floor(Math.abs(f-e))<=c?g[g.length-1]=h.add(a):g.push(a),f=e}),g},f=function(a){var c={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof a?b.extend(c,a):("boolean"==typeof a?c.byRow=a:"remove"===a&&(c.remove=!0),c)},g=b.fn.matchHeight=function(a){var c=f(a);if(c.remove){var d=this;return this.css(c.property,""),b.each(g._groups,function(a,b){b.elements=b.elements.not(d)}),this}return this.length<=1&&!c.target?this:(g._groups.push({elements:this,options:c}),g._apply(this,c),this)};g.version="0.7.0",g._groups=[],g._throttle=80,g._maintainScroll=!1,g._beforeUpdate=null,g._afterUpdate=null,g._rows=e,g._parse=d,g._parseOptions=f,g._apply=function(a,c){var h=f(c),i=b(a),j=[i],k=b(window).scrollTop(),l=b("html").outerHeight(!0),m=i.parents().filter(":hidden");return m.each(function(){var a=b(this);a.data("style-cache",a.attr("style"))}),m.css("display","block"),h.byRow&&!h.target&&(i.each(function(){var a=b(this),c=a.css("display");"inline-block"!==c&&"flex"!==c&&"inline-flex"!==c&&(c="block"),a.data("style-cache",a.attr("style")),a.css({display:c,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),j=e(i),i.each(function(){var a=b(this);a.attr("style",a.data("style-cache")||"")})),b.each(j,function(a,c){var e=b(c),f=0;if(h.target)f=h.target.outerHeight(!1);else{if(h.byRow&&e.length<=1)return void e.css(h.property,"");e.each(function(){var a=b(this),c=a.attr("style"),d=a.css("display");"inline-block"!==d&&"flex"!==d&&"inline-flex"!==d&&(d="block");var e={display:d};e[h.property]="",a.css(e),a.outerHeight(!1)>f&&(f=a.outerHeight(!1)),c?a.attr("style",c):a.css("display","")})}e.each(function(){var a=b(this),c=0;h.target&&a.is(h.target)||("border-box"!==a.css("box-sizing")&&(c+=d(a.css("border-top-width"))+d(a.css("border-bottom-width")),c+=d(a.css("padding-top"))+d(a.css("padding-bottom"))),a.css(h.property,f-c+"px"))})}),m.each(function(){var a=b(this);a.attr("style",a.data("style-cache")||null)}),g._maintainScroll&&b(window).scrollTop(k/l*b("html").outerHeight(!0)),this},g._applyDataApi=function(){var a={};b("[data-match-height], [data-mh]").each(function(){var c=b(this),d=c.attr("data-mh")||c.attr("data-match-height");d in a?a[d]=a[d].add(c):a[d]=c}),b.each(a,function(){this.matchHeight(!0)})};var h=function(a){g._beforeUpdate&&g._beforeUpdate(a,g._groups),b.each(g._groups,function(){g._apply(this.elements,this.options)}),g._afterUpdate&&g._afterUpdate(a,g._groups)};g._update=function(d,e){if(e&&"resize"===e.type){var f=b(window).width();if(f===a)return;a=f}d?-1===c&&(c=setTimeout(function(){h(e),c=-1},g._throttle)):h(e)},b(g._applyDataApi),b(window).bind("load",function(a){g._update(!1,a)}),b(window).bind("resize orientationchange",function(a){g._update(!0,a)})}(jQuery),{init:function(a){function d(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}b('.btn-views a[href$="'+d("v")+'"]').addClass("active").siblings().removeClass("active"),b(".element-item.mycourses-card").matchHeight();c.get("filtroDisciplina"),c.get("filtroProfessor"),requirejs(["block_my_course/isotope.pkgd"],function(a){function d(){return 1==g.filteredItems.length&&b(g.filteredItems[0].element).hasClass("mycourses-title")?(g.arrange({filter:function(){return!1}}),b("#na-disciplina").slideDown(100)):g.filteredItems.length>1?b("#na-disciplina").slideUp(100):b("#na-disciplina").slideDown(100)}b(".mycourses-loading").fadeOut(400).addClass("hidden"),b("#mycouses-grade").fadeIn(900).removeClass("hidden"),b.fn.matchHeight._update();var e=b(".filtro-disciplina").val(),f=b(".filtro-professor").val(),g=new a(".grid",{layoutMode:"fitRows",resizable:!0,stagger:15,filter:function(a){return"*"==e&&"*"==f?!0:"*"==f&&e&&"*"!=e?b(a).find(".categoria").hasClass(e):e&&"*"!=e?b(a).find(".professor").hasClass(f)&&b(a).find(".categoria").hasClass(e):b(a).find(".professor").hasClass(f)}});d(),g.on("layoutComplete",function(a){b.fn.matchHeight._update()}),window.iso=g,b(".filtro-professor").change(function(){var a=b(".filtro-disciplina").val(),e=this.value;c.set("filtroDisciplina",a,{expires:.1}),c.set("filtroProfessor",e,{expires:.1}),g.arrange({filter:function(c){return"*"==a&&"*"==e?!0:"*"==e&&a&&"*"!=a?b(c).find(".categoria").hasClass(a):a&&"*"!=a?b(c).find(".professor").hasClass(e)&&b(c).find(".categoria").hasClass(a):b(c).find(".professor").hasClass(e)}}),d()}),b(".filtro-disciplina").change(function(){var a=b(".filtro-professor").val(),e=this.value;""==a&&(a="*"),c.set("filtroDisciplina",e,{expires:.1}),c.set("filtroProfessor",a,{expires:.1}),g.arrange({filter:function(c){return"*"==a&&"*"==e?!0:"*"==e&&a&&"*"!=a?b(c).find(".professor").hasClass(a):a&&"*"!=a?b(c).find(".categoria").hasClass(e)&&b(c).find(".professor").hasClass(a):b(c).find(".categoria").hasClass(e)}}),d()}),b(".block_my_courses.block.hidden, .block_my_courses .block-hider-show").click(function(){g.arrange()})})}}});